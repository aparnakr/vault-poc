{
  "contractName": "Controller",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_calculator",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getVaultCounter",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_vaultId",
          "type": "uint256"
        }
      ],
      "name": "getVault",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "shortAssets",
          "type": "address[]"
        },
        {
          "internalType": "address[]",
          "name": "longAssets",
          "type": "address[]"
        },
        {
          "internalType": "address[]",
          "name": "collAssets",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "shortAmount",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "longAmount",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "collAmount",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "_shortAssets",
          "type": "address[]"
        },
        {
          "internalType": "address[]",
          "name": "_longAssets",
          "type": "address[]"
        },
        {
          "internalType": "address[]",
          "name": "_collAssets",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "_shortAmounts",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "_longAmounts",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "_collAmounts",
          "type": "uint256[]"
        },
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "openVault",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.6.9+commit.3e3065ac\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_calculator\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_vaultId\",\"type\":\"uint256\"}],\"name\":\"getVault\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"shortAssets\",\"type\":\"address[]\"},{\"internalType\":\"address[]\",\"name\":\"longAssets\",\"type\":\"address[]\"},{\"internalType\":\"address[]\",\"name\":\"collAssets\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"shortAmount\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"longAmount\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"collAmount\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getVaultCounter\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"_shortAssets\",\"type\":\"address[]\"},{\"internalType\":\"address[]\",\"name\":\"_longAssets\",\"type\":\"address[]\"},{\"internalType\":\"address[]\",\"name\":\"_collAssets\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_shortAmounts\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_longAmounts\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_collAmounts\",\"type\":\"uint256[]\"},{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"openVault\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"methods\":{}},\"userdoc\":{\"methods\":{},\"notice\":\"using the commented implementation, we will encounter stack too deep error\"}},\"settings\":{\"compilationTarget\":{\"/Users/haythem96/Projects/testStruct/contracts/impl1/Controller.sol\":\"Controller\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"/Users/haythem96/Projects/testStruct/contracts/impl1/Controller.sol\":{\"keccak256\":\"0x9411fa8c04c67edd8f494c10e8813ee45f1e313401d0df74ac351cae52c85191\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1491c4f4344057b3c20b944a4ebb1f0d075cc6e1889364882dedf107c45bb13a\",\"dweb:/ipfs/QmS9WifcHepoQDvURPgerJaxVJpSQwJdA4TN1Ch7tCvzdM\"]},\"/Users/haythem96/Projects/testStruct/contracts/impl1/MarginAccountLib.sol\":{\"keccak256\":\"0xe05664e0efe5fbf82a17de43011c466413bab8d4ccb64fbeebb84f5ef18c5d77\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://836941ac05ae0f43025ed341af9a204f3fbb2a2cef8254a8f8c42ed831c3db92\",\"dweb:/ipfs/QmRK7Fv6YDe6C292LwdaiPsBD1Cn4FiD4VxnajhfMaTLcz\"]},\"/Users/haythem96/Projects/testStruct/contracts/impl1/MarginCalculator.sol\":{\"keccak256\":\"0x9d384415d1c703104348cf88436341c1c729ea7e4b46f9df94163ee91fc7793a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://cb152db767593d0ea8fb53ab8d1d43560e4b6b3d4e681aad83c6b69a7d707259\",\"dweb:/ipfs/QmdYh63QwFmL19bYvcUBk9jK9Eec8WKS3VvSLDnvDsgywk\"]}},\"version\":1}",
  "bytecode": "0x60806040523480156200001157600080fd5b50604051620012eb380380620012eb833981810160405281019062000037919062000095565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506200010f565b6000815190506200008f81620000f5565b92915050565b600060208284031215620000a857600080fd5b6000620000b8848285016200007e565b91505092915050565b6000620000ce82620000d5565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6200010081620000c1565b81146200010c57600080fd5b50565b6111cc806200011f6000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c806331e5323b14610046578063664b09de14610076578063d99d13f514610092575b600080fd5b610060600480360381019061005b9190610c1a565b6100c7565b60405161006d9190611011565b60405180910390f35b610090600480360381019061008b9190610c7f565b610118565b005b6100ac60048036038101906100a79190610c43565b6102a3565b6040516100be96959493929190610f46565b60405180910390f35b600080600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508060000154915050919050565b835187511461015c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161015390610fd1565b60405180910390fd5b82518651146101a0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161019790610fd1565b60405180910390fd5b81518551146101e4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101db90610fd1565b60405180910390fd5b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905061029981898989898989600260008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a6000015481526020019081526020016000206103b190979695949392919063ffffffff16565b5050505050505050565b6060806060806060806000600160008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508781600001541015610336576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161032d90610ff1565b60405180910390fd5b61038e600260008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a81526020019081526020016000206105e6565b809750819850829950839a50849b50859c50505050505050509295509295509295565b60008090505b8c8c90508160ff1610156104505786868260ff168181106103d457fe5b905060200201358f60030160008f8f8560ff168181106103f057fe5b90506020020160208101906104059190610c1a565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555080806001019150506103b7565b5060008090505b8a8a90508160ff1610156104f05784848260ff1681811061047457fe5b905060200201358f60040160008d8d8560ff1681811061049057fe5b90506020020160208101906104a59190610c1a565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508080600101915050610457565b5060008090505b888890508160ff1610156105905782828260ff1681811061051457fe5b905060200201358f60050160008b8b8560ff1681811061053057fe5b90506020020160208101906105459190610c1a565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555080806001019150506104f7565b508b8b8f60000191906105a4929190610a07565b5089898f60010191906105b8929190610a07565b5087878f60020191906105cc929190610a07565b506105d68d6109f0565b5050505050505050505050505050565b606080606080606080606080606060008090505b8a600001805490508160ff1610156106b2578a60030160008c6000018360ff168154811061062457fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054848260ff168151811061069957fe5b60200260200101818152505080806001019150506105fa565b5060008090505b8a600101805490508160ff161015610771578a60040160008c6001018360ff16815481106106e357fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054838260ff168151811061075857fe5b60200260200101818152505080806001019150506106b9565b5060008090505b8a600201805490508160ff161015610830578a60050160008c6002018360ff16815481106107a257fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054828260ff168151811061081757fe5b6020026020010181815250508080600101915050610778565b50896000018a6001018b600201858585858054806020026020016040519081016040528092919081815260200182805480156108c157602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610877575b505050505095508480548060200260200160405190810160405280929190818152602001828054801561094957602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116108ff575b50505050509450838054806020026020016040519081016040528092919081815260200182805480156109d157602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610987575b5050505050935098509850985098509850985050505091939550919395565b806000016000815480929190600101919050555050565b828054828255906000526020600020908101928215610a96579160200282015b82811115610a9557823573ffffffffffffffffffffffffffffffffffffffff168260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190610a27565b5b509050610aa39190610aa7565b5090565b610ae791905b80821115610ae357600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600101610aad565b5090565b90565b600081359050610af981611168565b92915050565b600082601f830112610b1057600080fd5b8135610b23610b1e82611059565b61102c565b91508181835260208401935060208101905083856020840282011115610b4857600080fd5b60005b83811015610b785781610b5e8882610aea565b845260208401935060208301925050600181019050610b4b565b5050505092915050565b600082601f830112610b9357600080fd5b8135610ba6610ba182611081565b61102c565b91508181835260208401935060208101905083856020840282011115610bcb57600080fd5b60005b83811015610bfb5781610be18882610c05565b845260208401935060208301925050600181019050610bce565b5050505092915050565b600081359050610c148161117f565b92915050565b600060208284031215610c2c57600080fd5b6000610c3a84828501610aea565b91505092915050565b60008060408385031215610c5657600080fd5b6000610c6485828601610aea565b9250506020610c7585828601610c05565b9150509250929050565b600080600080600080600060e0888a031215610c9a57600080fd5b600088013567ffffffffffffffff811115610cb457600080fd5b610cc08a828b01610aff565b975050602088013567ffffffffffffffff811115610cdd57600080fd5b610ce98a828b01610aff565b965050604088013567ffffffffffffffff811115610d0657600080fd5b610d128a828b01610aff565b955050606088013567ffffffffffffffff811115610d2f57600080fd5b610d3b8a828b01610b82565b945050608088013567ffffffffffffffff811115610d5857600080fd5b610d648a828b01610b82565b93505060a088013567ffffffffffffffff811115610d8157600080fd5b610d8d8a828b01610b82565b92505060c0610d9e8a828b01610aea565b91505092959891949750929550565b6000610db98383610ddd565b60208301905092915050565b6000610dd18383610f28565b60208301905092915050565b610de68161112c565b82525050565b6000610df7826110c9565b610e0181856110f9565b9350610e0c836110a9565b8060005b83811015610e3d578151610e248882610dad565b9750610e2f836110df565b925050600181019050610e10565b5085935050505092915050565b6000610e55826110d4565b610e5f818561110a565b9350610e6a836110b9565b8060005b83811015610e9b578151610e828882610dc5565b9750610e8d836110ec565b925050600181019050610e6e565b5085935050505092915050565b6000610eb5600c8361111b565b91507f6572726f72206c656e67746800000000000000000000000000000000000000006000830152602082019050919050565b6000610ef5600e8361111b565b91507f6572726f72207661756c742069640000000000000000000000000000000000006000830152602082019050919050565b610f318161115e565b82525050565b610f408161115e565b82525050565b600060c0820190508181036000830152610f608189610dec565b90508181036020830152610f748188610dec565b90508181036040830152610f888187610dec565b90508181036060830152610f9c8186610e4a565b90508181036080830152610fb08185610e4a565b905081810360a0830152610fc48184610e4a565b9050979650505050505050565b60006020820190508181036000830152610fea81610ea8565b9050919050565b6000602082019050818103600083015261100a81610ee8565b9050919050565b60006020820190506110266000830184610f37565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561104f57600080fd5b8060405250919050565b600067ffffffffffffffff82111561107057600080fd5b602082029050602081019050919050565b600067ffffffffffffffff82111561109857600080fd5b602082029050602081019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b60006111378261113e565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6111718161112c565b811461117c57600080fd5b50565b6111888161115e565b811461119357600080fd5b5056fea2646970667358221220dd8e60e289914d0dd229c0c572da3894b7028a89cd13ef275c5679c48cdf9e0c64736f6c63430006090033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100415760003560e01c806331e5323b14610046578063664b09de14610076578063d99d13f514610092575b600080fd5b610060600480360381019061005b9190610c1a565b6100c7565b60405161006d9190611011565b60405180910390f35b610090600480360381019061008b9190610c7f565b610118565b005b6100ac60048036038101906100a79190610c43565b6102a3565b6040516100be96959493929190610f46565b60405180910390f35b600080600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508060000154915050919050565b835187511461015c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161015390610fd1565b60405180910390fd5b82518651146101a0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161019790610fd1565b60405180910390fd5b81518551146101e4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101db90610fd1565b60405180910390fd5b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905061029981898989898989600260008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a6000015481526020019081526020016000206103b190979695949392919063ffffffff16565b5050505050505050565b6060806060806060806000600160008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508781600001541015610336576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161032d90610ff1565b60405180910390fd5b61038e600260008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a81526020019081526020016000206105e6565b809750819850829950839a50849b50859c50505050505050509295509295509295565b60008090505b8c8c90508160ff1610156104505786868260ff168181106103d457fe5b905060200201358f60030160008f8f8560ff168181106103f057fe5b90506020020160208101906104059190610c1a565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555080806001019150506103b7565b5060008090505b8a8a90508160ff1610156104f05784848260ff1681811061047457fe5b905060200201358f60040160008d8d8560ff1681811061049057fe5b90506020020160208101906104a59190610c1a565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508080600101915050610457565b5060008090505b888890508160ff1610156105905782828260ff1681811061051457fe5b905060200201358f60050160008b8b8560ff1681811061053057fe5b90506020020160208101906105459190610c1a565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555080806001019150506104f7565b508b8b8f60000191906105a4929190610a07565b5089898f60010191906105b8929190610a07565b5087878f60020191906105cc929190610a07565b506105d68d6109f0565b5050505050505050505050505050565b606080606080606080606080606060008090505b8a600001805490508160ff1610156106b2578a60030160008c6000018360ff168154811061062457fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054848260ff168151811061069957fe5b60200260200101818152505080806001019150506105fa565b5060008090505b8a600101805490508160ff161015610771578a60040160008c6001018360ff16815481106106e357fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054838260ff168151811061075857fe5b60200260200101818152505080806001019150506106b9565b5060008090505b8a600201805490508160ff161015610830578a60050160008c6002018360ff16815481106107a257fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054828260ff168151811061081757fe5b6020026020010181815250508080600101915050610778565b50896000018a6001018b600201858585858054806020026020016040519081016040528092919081815260200182805480156108c157602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610877575b505050505095508480548060200260200160405190810160405280929190818152602001828054801561094957602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116108ff575b50505050509450838054806020026020016040519081016040528092919081815260200182805480156109d157602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610987575b5050505050935098509850985098509850985050505091939550919395565b806000016000815480929190600101919050555050565b828054828255906000526020600020908101928215610a96579160200282015b82811115610a9557823573ffffffffffffffffffffffffffffffffffffffff168260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190610a27565b5b509050610aa39190610aa7565b5090565b610ae791905b80821115610ae357600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600101610aad565b5090565b90565b600081359050610af981611168565b92915050565b600082601f830112610b1057600080fd5b8135610b23610b1e82611059565b61102c565b91508181835260208401935060208101905083856020840282011115610b4857600080fd5b60005b83811015610b785781610b5e8882610aea565b845260208401935060208301925050600181019050610b4b565b5050505092915050565b600082601f830112610b9357600080fd5b8135610ba6610ba182611081565b61102c565b91508181835260208401935060208101905083856020840282011115610bcb57600080fd5b60005b83811015610bfb5781610be18882610c05565b845260208401935060208301925050600181019050610bce565b5050505092915050565b600081359050610c148161117f565b92915050565b600060208284031215610c2c57600080fd5b6000610c3a84828501610aea565b91505092915050565b60008060408385031215610c5657600080fd5b6000610c6485828601610aea565b9250506020610c7585828601610c05565b9150509250929050565b600080600080600080600060e0888a031215610c9a57600080fd5b600088013567ffffffffffffffff811115610cb457600080fd5b610cc08a828b01610aff565b975050602088013567ffffffffffffffff811115610cdd57600080fd5b610ce98a828b01610aff565b965050604088013567ffffffffffffffff811115610d0657600080fd5b610d128a828b01610aff565b955050606088013567ffffffffffffffff811115610d2f57600080fd5b610d3b8a828b01610b82565b945050608088013567ffffffffffffffff811115610d5857600080fd5b610d648a828b01610b82565b93505060a088013567ffffffffffffffff811115610d8157600080fd5b610d8d8a828b01610b82565b92505060c0610d9e8a828b01610aea565b91505092959891949750929550565b6000610db98383610ddd565b60208301905092915050565b6000610dd18383610f28565b60208301905092915050565b610de68161112c565b82525050565b6000610df7826110c9565b610e0181856110f9565b9350610e0c836110a9565b8060005b83811015610e3d578151610e248882610dad565b9750610e2f836110df565b925050600181019050610e10565b5085935050505092915050565b6000610e55826110d4565b610e5f818561110a565b9350610e6a836110b9565b8060005b83811015610e9b578151610e828882610dc5565b9750610e8d836110ec565b925050600181019050610e6e565b5085935050505092915050565b6000610eb5600c8361111b565b91507f6572726f72206c656e67746800000000000000000000000000000000000000006000830152602082019050919050565b6000610ef5600e8361111b565b91507f6572726f72207661756c742069640000000000000000000000000000000000006000830152602082019050919050565b610f318161115e565b82525050565b610f408161115e565b82525050565b600060c0820190508181036000830152610f608189610dec565b90508181036020830152610f748188610dec565b90508181036040830152610f888187610dec565b90508181036060830152610f9c8186610e4a565b90508181036080830152610fb08185610e4a565b905081810360a0830152610fc48184610e4a565b9050979650505050505050565b60006020820190508181036000830152610fea81610ea8565b9050919050565b6000602082019050818103600083015261100a81610ee8565b9050919050565b60006020820190506110266000830184610f37565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561104f57600080fd5b8060405250919050565b600067ffffffffffffffff82111561107057600080fd5b602082029050602081019050919050565b600067ffffffffffffffff82111561109857600080fd5b602082029050602081019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b60006111378261113e565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6111718161112c565b811461117c57600080fd5b50565b6111888161115e565b811461119357600080fd5b5056fea2646970667358221220dd8e60e289914d0dd229c0c572da3894b7028a89cd13ef275c5679c48cdf9e0c64736f6c63430006090033",
  "sourceMap": "245:2723:1:-:0;;;583:99;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;663:11;633:10;;:42;;;;;;;;;;;;;;;;;;583:99;245:2723;;5:134:-1;;89:6;83:13;74:22;;101:33;128:5;101:33;;;68:71;;;;;146:263;;261:2;249:9;240:7;236:23;232:32;229:2;;;277:1;274;267:12;229:2;312:1;329:64;385:7;376:6;365:9;361:22;329:64;;;319:74;;291:108;223:186;;;;;416:91;;478:24;496:5;478:24;;;467:35;;461:46;;;;514:121;;587:42;580:5;576:54;565:65;;559:76;;;;642:117;711:24;729:5;711:24;;;704:5;701:35;691:2;;750:1;747;740:12;691:2;685:74;;245:2723:1;;;;;;;",
  "deployedSourceMap": "245:2723:1:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;689:185;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;1425:812;;;;;;;;;;;;;;;;:::i;:::-;;880:539;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;689:185;752:7;771:40;814:8;:15;823:5;814:15;;;;;;;;;;;;;;;771:58;;847:7;:20;;;840:27;;;689:185;;;:::o;1425:812::-;1720:13;:20;1697:12;:19;:43;1689:68;;;;;;;;;;;;;;;;;;;;;;1797:12;:19;1775:11;:18;:41;1767:66;;;;;;;;;;;;;;;;;;;;;;1873:12;:19;1851:11;:18;:41;1843:66;;;;;;;;;;;;;;;;;;;;;;1920:40;1963:8;:15;1972:5;1963:15;;;;;;;;;;;;;;;1920:58;;1989:241;2058:7;2079:12;2105:11;2130;2155:13;2182:12;2208;1989:13;:20;2003:5;1989:20;;;;;;;;;;;;;;;:42;2010:7;:20;;;1989:42;;;;;;;;;;;:55;;:241;;;;;;;;;;:::i;:::-;1425:812;;;;;;;;:::o;880:539::-;963:28;995:27;1026;1057:28;1089:27;1120;1164:40;1207:8;:15;1216:5;1207:15;;;;;;;;;;;;;;;1164:58;;1265:8;1241:7;:20;;;:32;;1233:59;;;;;;;;;;;;;;;;;;;;;;1374:41;:13;:20;1388:5;1374:20;;;;;;;;;;;;;;;:30;1395:8;1374:30;;;;;;;;;;;:39;:41::i;:::-;1297:118;;;;;;;;;;;;;;;;;;;;;;;;880:539;;;;;;;;;:::o;731:757:2:-;1033:7;1043:1;1033:11;;1029:108;1048:12;;:19;;1046:1;:21;;;1029:108;;;1116:13;;1130:1;1116:16;;;;;;;;;;;;;;;1079:5;:17;;:34;1097:12;;1110:1;1097:15;;;;;;;;;;;;;;;;;;;;;;;;1079:34;;;;;;;;;;;;;;;:53;;;;1069:3;;;;;;;1029:108;;;;1145:7;1155:1;1145:11;;1141:104;1160:11;;:18;;1158:1;:20;;;1141:104;;;1225:12;;1238:1;1225:15;;;;;;;;;;;;;;;1190:5;:16;;:32;1207:11;;1219:1;1207:14;;;;;;;;;;;;;;;;;;;;;;;;1190:32;;;;;;;;;;;;;;;:50;;;;1180:3;;;;;;;1141:104;;;;1253:7;1263:1;1253:11;;1249:104;1268:11;;:18;;1266:1;:20;;;1249:104;;;1333:12;;1346:1;1333:15;;;;;;;;;;;;;;;1298:5;:16;;:32;1315:11;;1327:1;1315:14;;;;;;;;;;;;;;;;;;;;;;;;1298:32;;;;;;;;;;;;;;;:50;;;;1288:3;;;;;;;1249:104;;;;1377:12;;1357:5;:17;;:32;;;;;;;:::i;:::-;;1412:11;;1393:5;:16;;:30;;;;;;;:::i;:::-;;1446:11;;1427:5;:16;;:30;;;;;;;:::i;:::-;;1462:22;1475:8;1462:12;:22::i;:::-;731:757;;;;;;;;;;;;;;:::o;1491:766::-;1568:16;1588;1608;1628;1648;1668;1695:28;1727:27;1758;1794:7;1804:1;1794:11;;1790:119;1809:6;:18;;:25;;;;1807:1;:27;;;1790:119;;;1863:6;:18;;:41;1882:6;:18;;1901:1;1882:21;;;;;;;;;;;;;;;;;;;;;;;;;;;1863:41;;;;;;;;;;;;;;;;1846:11;1858:1;1846:14;;;;;;;;;;;;;;;:58;;;;;1836:3;;;;;;;1790:119;;;;1917:7;1927:1;1917:11;;1913:115;1932:6;:17;;:24;;;;1930:1;:26;;;1913:115;;;1984:6;:17;;:39;2002:6;:17;;2020:1;2002:20;;;;;;;;;;;;;;;;;;;;;;;;;;;1984:39;;;;;;;;;;;;;;;;1968:10;1979:1;1968:13;;;;;;;;;;;;;;;:55;;;;;1958:3;;;;;;;1913:115;;;;2036:7;2046:1;2036:11;;2032:115;2051:6;:17;;:24;;;;2049:1;:26;;;2032:115;;;2103:6;:17;;:39;2121:6;:17;;2139:1;2121:20;;;;;;;;;;;;;;;;;;;;;;;;;;;2103:39;;;;;;;;;;;;;;;;2087:10;2098:1;2087:13;;;;;;;;;;;;;;;:55;;;;;2077:3;;;;;;;2032:115;;;;2159:6;:18;;2179:6;:17;;2198:6;:17;;2217:11;2230:10;2242;2151:102;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1491:766;;;;;;;:::o;640:87::-;703:5;:18;;;:20;;;;;;;;;;;;;640:87;:::o;-1:-1:-1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;5:130::-;;85:6;72:20;63:29;;97:33;124:5;97:33;;;57:78;;;;;160:707;;277:3;270:4;262:6;258:17;254:27;244:2;;295:1;292;285:12;244:2;332:6;319:20;354:80;369:64;426:6;369:64;;;354:80;;;345:89;;451:5;476:6;469:5;462:21;506:4;498:6;494:17;484:27;;528:4;523:3;519:14;512:21;;581:6;628:3;620:4;612:6;608:17;603:3;599:27;596:36;593:2;;;645:1;642;635:12;593:2;670:1;655:206;680:6;677:1;674:13;655:206;;;738:3;760:37;793:3;781:10;760:37;;;755:3;748:50;821:4;816:3;812:14;805:21;;849:4;844:3;840:14;833:21;;712:149;702:1;699;695:9;690:14;;655:206;;;659:14;237:630;;;;;;;;893:707;;1010:3;1003:4;995:6;991:17;987:27;977:2;;1028:1;1025;1018:12;977:2;1065:6;1052:20;1087:80;1102:64;1159:6;1102:64;;;1087:80;;;1078:89;;1184:5;1209:6;1202:5;1195:21;1239:4;1231:6;1227:17;1217:27;;1261:4;1256:3;1252:14;1245:21;;1314:6;1361:3;1353:4;1345:6;1341:17;1336:3;1332:27;1329:36;1326:2;;;1378:1;1375;1368:12;1326:2;1403:1;1388:206;1413:6;1410:1;1407:13;1388:206;;;1471:3;1493:37;1526:3;1514:10;1493:37;;;1488:3;1481:50;1554:4;1549:3;1545:14;1538:21;;1582:4;1577:3;1573:14;1566:21;;1445:149;1435:1;1432;1428:9;1423:14;;1388:206;;;1392:14;970:630;;;;;;;;1608:130;;1688:6;1675:20;1666:29;;1700:33;1727:5;1700:33;;;1660:78;;;;;1745:241;;1849:2;1837:9;1828:7;1824:23;1820:32;1817:2;;;1865:1;1862;1855:12;1817:2;1900:1;1917:53;1962:7;1953:6;1942:9;1938:22;1917:53;;;1907:63;;1879:97;1811:175;;;;;1993:366;;;2114:2;2102:9;2093:7;2089:23;2085:32;2082:2;;;2130:1;2127;2120:12;2082:2;2165:1;2182:53;2227:7;2218:6;2207:9;2203:22;2182:53;;;2172:63;;2144:97;2272:2;2290:53;2335:7;2326:6;2315:9;2311:22;2290:53;;;2280:63;;2251:98;2076:283;;;;;;2366:1811;;;;;;;;2722:3;2710:9;2701:7;2697:23;2693:33;2690:2;;;2739:1;2736;2729:12;2690:2;2802:1;2791:9;2787:17;2774:31;2825:18;2817:6;2814:30;2811:2;;;2857:1;2854;2847:12;2811:2;2877:78;2947:7;2938:6;2927:9;2923:22;2877:78;;;2867:88;;2753:208;3020:2;3009:9;3005:18;2992:32;3044:18;3036:6;3033:30;3030:2;;;3076:1;3073;3066:12;3030:2;3096:78;3166:7;3157:6;3146:9;3142:22;3096:78;;;3086:88;;2971:209;3239:2;3228:9;3224:18;3211:32;3263:18;3255:6;3252:30;3249:2;;;3295:1;3292;3285:12;3249:2;3315:78;3385:7;3376:6;3365:9;3361:22;3315:78;;;3305:88;;3190:209;3458:2;3447:9;3443:18;3430:32;3482:18;3474:6;3471:30;3468:2;;;3514:1;3511;3504:12;3468:2;3534:78;3604:7;3595:6;3584:9;3580:22;3534:78;;;3524:88;;3409:209;3677:3;3666:9;3662:19;3649:33;3702:18;3694:6;3691:30;3688:2;;;3734:1;3731;3724:12;3688:2;3754:78;3824:7;3815:6;3804:9;3800:22;3754:78;;;3744:88;;3628:210;3897:3;3886:9;3882:19;3869:33;3922:18;3914:6;3911:30;3908:2;;;3954:1;3951;3944:12;3908:2;3974:78;4044:7;4035:6;4024:9;4020:22;3974:78;;;3964:88;;3848:210;4089:3;4108:53;4153:7;4144:6;4133:9;4129:22;4108:53;;;4098:63;;4068:99;2684:1493;;;;;;;;;;;4185:173;;4272:46;4314:3;4306:6;4272:46;;;4347:4;4342:3;4338:14;4324:28;;4265:93;;;;;4367:173;;4454:46;4496:3;4488:6;4454:46;;;4529:4;4524:3;4520:14;4506:28;;4447:93;;;;;4548:103;4621:24;4639:5;4621:24;;;4616:3;4609:37;4603:48;;;4689:690;;4834:54;4882:5;4834:54;;;4901:86;4980:6;4975:3;4901:86;;;4894:93;;5008:56;5058:5;5008:56;;;5084:7;5112:1;5097:260;5122:6;5119:1;5116:13;5097:260;;;5189:6;5183:13;5210:63;5269:3;5254:13;5210:63;;;5203:70;;5290:60;5343:6;5290:60;;;5280:70;;5154:203;5144:1;5141;5137:9;5132:14;;5097:260;;;5101:14;5370:3;5363:10;;4813:566;;;;;;;;5418:690;;5563:54;5611:5;5563:54;;;5630:86;5709:6;5704:3;5630:86;;;5623:93;;5737:56;5787:5;5737:56;;;5813:7;5841:1;5826:260;5851:6;5848:1;5845:13;5826:260;;;5918:6;5912:13;5939:63;5998:3;5983:13;5939:63;;;5932:70;;6019:60;6072:6;6019:60;;;6009:70;;5883:203;5873:1;5870;5866:9;5861:14;;5826:260;;;5830:14;6099:3;6092:10;;5542:566;;;;;;;;6117:312;;6277:67;6341:2;6336:3;6277:67;;;6270:74;;6377:14;6373:1;6368:3;6364:11;6357:35;6420:2;6415:3;6411:12;6404:19;;6263:166;;;;6438:314;;6598:67;6662:2;6657:3;6598:67;;;6591:74;;6698:16;6694:1;6689:3;6685:11;6678:37;6743:2;6738:3;6734:12;6727:19;;6584:168;;;;6760:103;6833:24;6851:5;6833:24;;;6828:3;6821:37;6815:48;;;6870:113;6953:24;6971:5;6953:24;;;6948:3;6941:37;6935:48;;;6990:1668;;7557:3;7546:9;7542:19;7534:27;;7608:9;7602:4;7598:20;7594:1;7583:9;7579:17;7572:47;7633:108;7736:4;7727:6;7633:108;;;7625:116;;7789:9;7783:4;7779:20;7774:2;7763:9;7759:18;7752:48;7814:108;7917:4;7908:6;7814:108;;;7806:116;;7970:9;7964:4;7960:20;7955:2;7944:9;7940:18;7933:48;7995:108;8098:4;8089:6;7995:108;;;7987:116;;8151:9;8145:4;8141:20;8136:2;8125:9;8121:18;8114:48;8176:108;8279:4;8270:6;8176:108;;;8168:116;;8333:9;8327:4;8323:20;8317:3;8306:9;8302:19;8295:49;8358:108;8461:4;8452:6;8358:108;;;8350:116;;8515:9;8509:4;8505:20;8499:3;8488:9;8484:19;8477:49;8540:108;8643:4;8634:6;8540:108;;;8532:116;;7528:1130;;;;;;;;;;8665:416;;8865:2;8854:9;8850:18;8842:26;;8915:9;8909:4;8905:20;8901:1;8890:9;8886:17;8879:47;8940:131;9066:4;8940:131;;;8932:139;;8836:245;;;;9088:416;;9288:2;9277:9;9273:18;9265:26;;9338:9;9332:4;9328:20;9324:1;9313:9;9309:17;9302:47;9363:131;9489:4;9363:131;;;9355:139;;9259:245;;;;9511:222;;9638:2;9627:9;9623:18;9615:26;;9652:71;9720:1;9709:9;9705:17;9696:6;9652:71;;;9609:124;;;;;9740:256;;9802:2;9796:9;9786:19;;9840:4;9832:6;9828:17;9939:6;9927:10;9924:22;9903:18;9891:10;9888:34;9885:62;9882:2;;;9960:1;9957;9950:12;9882:2;9980:10;9976:2;9969:22;9780:216;;;;;10003:304;;10162:18;10154:6;10151:30;10148:2;;;10194:1;10191;10184:12;10148:2;10229:4;10221:6;10217:17;10209:25;;10292:4;10286;10282:15;10274:23;;10085:222;;;;10314:304;;10473:18;10465:6;10462:30;10459:2;;;10505:1;10502;10495:12;10459:2;10540:4;10532:6;10528:17;10520:25;;10603:4;10597;10593:15;10585:23;;10396:222;;;;10625:151;;10711:3;10703:11;;10749:4;10744:3;10740:14;10732:22;;10697:79;;;;10783:151;;10869:3;10861:11;;10907:4;10902:3;10898:14;10890:22;;10855:79;;;;10941:137;;11050:5;11044:12;11034:22;;11015:63;;;;11085:137;;11194:5;11188:12;11178:22;;11159:63;;;;11229:108;;11327:4;11322:3;11318:14;11310:22;;11304:33;;;;11344:108;;11442:4;11437:3;11433:14;11425:22;;11419:33;;;;11460:178;;11590:6;11585:3;11578:19;11627:4;11622:3;11618:14;11603:29;;11571:67;;;;;11647:178;;11777:6;11772:3;11765:19;11814:4;11809:3;11805:14;11790:29;;11758:67;;;;;11834:163;;11949:6;11944:3;11937:19;11986:4;11981:3;11977:14;11962:29;;11930:67;;;;;12005:91;;12067:24;12085:5;12067:24;;;12056:35;;12050:46;;;;12103:121;;12176:42;12169:5;12165:54;12154:65;;12148:76;;;;12231:72;;12293:5;12282:16;;12276:27;;;;12310:117;12379:24;12397:5;12379:24;;;12372:5;12369:35;12359:2;;12418:1;12415;12408:12;12359:2;12353:74;;12434:117;12503:24;12521:5;12503:24;;;12496:5;12493:35;12483:2;;12542:1;12539;12532:12;12483:2;12477:74;",
  "source": "// SPDX-License-Identifier: MIT\npragma solidity 0.6.9;\n\n\npragma experimental ABIEncoderV2;\n\nimport \"./MarginAccountLib.sol\";\nimport \"./MarginCalculator.sol\";\n\n///@notice using the commented implementation, we will encounter stack too deep error\ncontract Controller {\n    \n    using MarginAccountLib for MarginAccountLib.Account;\n    using MarginAccountLib for MarginAccountLib.Vault;\n\n    MarginCalculator calculator;\n\n    mapping(address => MarginAccountLib.Account) internal accounts;\n    mapping(address => mapping(uint256 => MarginAccountLib.Vault)) internal accountVaults;\n\n    constructor(address _calculator) public {\n        calculator = MarginCalculator(_calculator);\n    }\n\n\n    function getVaultCounter(address _user) external view returns (uint256) {\n        MarginAccountLib.Account storage account = accounts[_user];\n\n        return account.vaultCounter;\n    }\n\n    function getVault(address _user, uint256 _vaultId) external view returns (\n        address[] memory shortAssets,\n\t\taddress[] memory longAssets,\n\t\taddress[] memory collAssets,\n\t\tuint256[] memory shortAmount,\n\t\tuint256[] memory longAmount,\n\t\tuint256[] memory collAmount\n    ) {\n        MarginAccountLib.Account storage account = accounts[_user];\n\n        require(account.vaultCounter >= _vaultId, \"error vault id\");\n\n\t\t(shortAssets, longAssets, collAssets, shortAmount, longAmount, collAmount) = accountVaults[_user][_vaultId].getVault();\n\t}\n\n    function openVault(\n\t\taddress[] memory _shortAssets,\n\t\taddress[] memory _longAssets,\n\t\taddress[] memory _collAssets,\n\t\tuint256[] memory _shortAmounts,\n\t\tuint256[] memory _longAmounts,\n\t\tuint256[] memory _collAmounts,\n        address _user\n    ) external {\n        require(_shortAssets.length == _shortAmounts.length, \"error length\");\n        require(_longAssets.length == _longAmounts.length, \"error length\");\n        require(_collAssets.length == _collAmounts.length, \"error length\");\n\n        MarginAccountLib.Account storage account = accounts[_user];\n\n        accountVaults[_user][account.vaultCounter].updateOnOpen(\n            account,\n            _shortAssets,\n            _longAssets,\n            _collAssets,\n            _shortAmounts,\n            _longAmounts,\n            _collAmounts\n        );\n    }    \n\n    /*function checkMarginRequirement(\n        MarginAccountLib.RemarginVault memory modificationVault,\n        address _user,\n        uint256 _vaultId\n    ) external view returns (bool, uint256) {\n        MarginAccountLib.Vault memory vault = accountVaults[_user][_vaultId];\n\n        MarginAccountLib.Vault vaultFinalState = updateShort(vault, modificationVault);\n        \n        calculator.marginRequirement(vaultFinalState);\n    }*/\n\n    /*function closeVault(\n        address _user,\n        uint256 _vaultId\n    ) external {\n        MarginAccountLib.Account memory account = accounts[_user];\n\n        require(account.vaultCounter >= _vaultId, \"error vault id\");\n\n        delete accountVaults[_user][_vaultId];\n    }*/\n\n}",
  "sourcePath": "/Users/haythem96/Projects/testStruct/contracts/impl1/Controller.sol",
  "ast": {
    "absolutePath": "/Users/haythem96/Projects/testStruct/contracts/impl1/Controller.sol",
    "exportedSymbols": {
      "Controller": [
        225
      ]
    },
    "id": 226,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 38,
        "literals": [
          "solidity",
          "0.6",
          ".9"
        ],
        "nodeType": "PragmaDirective",
        "src": "32:22:1"
      },
      {
        "id": 39,
        "literals": [
          "experimental",
          "ABIEncoderV2"
        ],
        "nodeType": "PragmaDirective",
        "src": "57:33:1"
      },
      {
        "absolutePath": "/Users/haythem96/Projects/testStruct/contracts/impl1/MarginAccountLib.sol",
        "file": "./MarginAccountLib.sol",
        "id": 40,
        "nodeType": "ImportDirective",
        "scope": 226,
        "sourceUnit": 520,
        "src": "92:32:1",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/haythem96/Projects/testStruct/contracts/impl1/MarginCalculator.sol",
        "file": "./MarginCalculator.sol",
        "id": 41,
        "nodeType": "ImportDirective",
        "scope": 226,
        "sourceUnit": 525,
        "src": "125:32:1",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "contract",
        "documentation": {
          "id": 42,
          "nodeType": "StructuredDocumentation",
          "src": "159:86:1",
          "text": "@notice using the commented implementation, we will encounter stack too deep error"
        },
        "fullyImplemented": true,
        "id": 225,
        "linearizedBaseContracts": [
          225
        ],
        "name": "Controller",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "id": 45,
            "libraryName": {
              "contractScope": null,
              "id": 43,
              "name": "MarginAccountLib",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 519,
              "src": "282:16:1",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_MarginAccountLib_$519",
                "typeString": "library MarginAccountLib"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "276:52:1",
            "typeName": {
              "contractScope": null,
              "id": 44,
              "name": "MarginAccountLib.Account",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 231,
              "src": "303:24:1",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                "typeString": "struct MarginAccountLib.Account"
              }
            }
          },
          {
            "id": 48,
            "libraryName": {
              "contractScope": null,
              "id": 46,
              "name": "MarginAccountLib",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 519,
              "src": "339:16:1",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_MarginAccountLib_$519",
                "typeString": "library MarginAccountLib"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "333:50:1",
            "typeName": {
              "contractScope": null,
              "id": 47,
              "name": "MarginAccountLib.Vault",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 253,
              "src": "360:22:1",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Vault_$253_storage_ptr",
                "typeString": "struct MarginAccountLib.Vault"
              }
            }
          },
          {
            "constant": false,
            "id": 50,
            "mutability": "mutable",
            "name": "calculator",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 225,
            "src": "389:27:1",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_MarginCalculator_$524",
              "typeString": "contract MarginCalculator"
            },
            "typeName": {
              "contractScope": null,
              "id": 49,
              "name": "MarginCalculator",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 524,
              "src": "389:16:1",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_MarginCalculator_$524",
                "typeString": "contract MarginCalculator"
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "constant": false,
            "id": 54,
            "mutability": "mutable",
            "name": "accounts",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 225,
            "src": "423:62:1",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
              "typeString": "mapping(address => struct MarginAccountLib.Account)"
            },
            "typeName": {
              "id": 53,
              "keyType": {
                "id": 51,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "431:7:1",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "423:44:1",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
                "typeString": "mapping(address => struct MarginAccountLib.Account)"
              },
              "valueType": {
                "contractScope": null,
                "id": 52,
                "name": "MarginAccountLib.Account",
                "nodeType": "UserDefinedTypeName",
                "referencedDeclaration": 231,
                "src": "442:24:1",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                  "typeString": "struct MarginAccountLib.Account"
                }
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "constant": false,
            "id": 60,
            "mutability": "mutable",
            "name": "accountVaults",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 225,
            "src": "491:85:1",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$_$",
              "typeString": "mapping(address => mapping(uint256 => struct MarginAccountLib.Vault))"
            },
            "typeName": {
              "id": 59,
              "keyType": {
                "id": 55,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "499:7:1",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "491:62:1",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$_$",
                "typeString": "mapping(address => mapping(uint256 => struct MarginAccountLib.Vault))"
              },
              "valueType": {
                "id": 58,
                "keyType": {
                  "id": 56,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "518:7:1",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "nodeType": "Mapping",
                "src": "510:42:1",
                "typeDescriptions": {
                  "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$",
                  "typeString": "mapping(uint256 => struct MarginAccountLib.Vault)"
                },
                "valueType": {
                  "contractScope": null,
                  "id": 57,
                  "name": "MarginAccountLib.Vault",
                  "nodeType": "UserDefinedTypeName",
                  "referencedDeclaration": 253,
                  "src": "529:22:1",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Vault_$253_storage_ptr",
                    "typeString": "struct MarginAccountLib.Vault"
                  }
                }
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 71,
              "nodeType": "Block",
              "src": "623:59:1",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 69,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 65,
                      "name": "calculator",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 50,
                      "src": "633:10:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_MarginCalculator_$524",
                        "typeString": "contract MarginCalculator"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 67,
                          "name": "_calculator",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 62,
                          "src": "663:11:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 66,
                        "name": "MarginCalculator",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 524,
                        "src": "646:16:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_MarginCalculator_$524_$",
                          "typeString": "type(contract MarginCalculator)"
                        }
                      },
                      "id": 68,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "646:29:1",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_MarginCalculator_$524",
                        "typeString": "contract MarginCalculator"
                      }
                    },
                    "src": "633:42:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_MarginCalculator_$524",
                      "typeString": "contract MarginCalculator"
                    }
                  },
                  "id": 70,
                  "nodeType": "ExpressionStatement",
                  "src": "633:42:1"
                }
              ]
            },
            "documentation": null,
            "id": 72,
            "implemented": true,
            "kind": "constructor",
            "modifiers": [],
            "name": "",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 63,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 62,
                  "mutability": "mutable",
                  "name": "_calculator",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 72,
                  "src": "595:19:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 61,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "595:7:1",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "594:21:1"
            },
            "returnParameters": {
              "id": 64,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "623:0:1"
            },
            "scope": 225,
            "src": "583:99:1",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 90,
              "nodeType": "Block",
              "src": "761:113:1",
              "statements": [
                {
                  "assignments": [
                    82
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 82,
                      "mutability": "mutable",
                      "name": "account",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 90,
                      "src": "771:40:1",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                        "typeString": "struct MarginAccountLib.Account"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 81,
                        "name": "MarginAccountLib.Account",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 231,
                        "src": "771:24:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 86,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 83,
                      "name": "accounts",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 54,
                      "src": "814:8:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
                        "typeString": "mapping(address => struct MarginAccountLib.Account storage ref)"
                      }
                    },
                    "id": 85,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 84,
                      "name": "_user",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 74,
                      "src": "823:5:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "814:15:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Account_$231_storage",
                      "typeString": "struct MarginAccountLib.Account storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "771:58:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "id": 87,
                      "name": "account",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 82,
                      "src": "847:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                        "typeString": "struct MarginAccountLib.Account storage pointer"
                      }
                    },
                    "id": 88,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "vaultCounter",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 230,
                    "src": "847:20:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 78,
                  "id": 89,
                  "nodeType": "Return",
                  "src": "840:27:1"
                }
              ]
            },
            "documentation": null,
            "functionSelector": "31e5323b",
            "id": 91,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getVaultCounter",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 75,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 74,
                  "mutability": "mutable",
                  "name": "_user",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 91,
                  "src": "714:13:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 73,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "714:7:1",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "713:15:1"
            },
            "returnParameters": {
              "id": 78,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 77,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 91,
                  "src": "752:7:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 76,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "752:7:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "751:9:1"
            },
            "scope": 225,
            "src": "689:185:1",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 148,
              "nodeType": "Block",
              "src": "1154:265:1",
              "statements": [
                {
                  "assignments": [
                    119
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 119,
                      "mutability": "mutable",
                      "name": "account",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 148,
                      "src": "1164:40:1",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                        "typeString": "struct MarginAccountLib.Account"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 118,
                        "name": "MarginAccountLib.Account",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 231,
                        "src": "1164:24:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 123,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 120,
                      "name": "accounts",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 54,
                      "src": "1207:8:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
                        "typeString": "mapping(address => struct MarginAccountLib.Account storage ref)"
                      }
                    },
                    "id": 122,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 121,
                      "name": "_user",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 93,
                      "src": "1216:5:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "1207:15:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Account_$231_storage",
                      "typeString": "struct MarginAccountLib.Account storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1164:58:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 128,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 125,
                            "name": "account",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 119,
                            "src": "1241:7:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                              "typeString": "struct MarginAccountLib.Account storage pointer"
                            }
                          },
                          "id": 126,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "vaultCounter",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 230,
                          "src": "1241:20:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": ">=",
                        "rightExpression": {
                          "argumentTypes": null,
                          "id": 127,
                          "name": "_vaultId",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 95,
                          "src": "1265:8:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "1241:32:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "6572726f72207661756c74206964",
                        "id": 129,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1275:16:1",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_cf666fc5e38b1ce979c17d75944ed86888ce28b2b65963b5e3bb522354af4c1d",
                          "typeString": "literal_string \"error vault id\""
                        },
                        "value": "error vault id"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_cf666fc5e38b1ce979c17d75944ed86888ce28b2b65963b5e3bb522354af4c1d",
                          "typeString": "literal_string \"error vault id\""
                        }
                      ],
                      "id": 124,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1233:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 130,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1233:59:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 131,
                  "nodeType": "ExpressionStatement",
                  "src": "1233:59:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 146,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "components": [
                        {
                          "argumentTypes": null,
                          "id": 132,
                          "name": "shortAssets",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 99,
                          "src": "1298:11:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                            "typeString": "address[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 133,
                          "name": "longAssets",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 102,
                          "src": "1311:10:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                            "typeString": "address[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 134,
                          "name": "collAssets",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 105,
                          "src": "1323:10:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                            "typeString": "address[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 135,
                          "name": "shortAmount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 108,
                          "src": "1335:11:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 136,
                          "name": "longAmount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 111,
                          "src": "1348:10:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 137,
                          "name": "collAmount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 114,
                          "src": "1360:10:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        }
                      ],
                      "id": 138,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "TupleExpression",
                      "src": "1297:74:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",
                        "typeString": "tuple(address[] memory,address[] memory,address[] memory,uint256[] memory,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "expression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 139,
                              "name": "accountVaults",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 60,
                              "src": "1374:13:1",
                              "typeDescriptions": {
                                "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$_$",
                                "typeString": "mapping(address => mapping(uint256 => struct MarginAccountLib.Vault storage ref))"
                              }
                            },
                            "id": 141,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 140,
                              "name": "_user",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 93,
                              "src": "1388:5:1",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "IndexAccess",
                            "src": "1374:20:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$",
                              "typeString": "mapping(uint256 => struct MarginAccountLib.Vault storage ref)"
                            }
                          },
                          "id": 143,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 142,
                            "name": "_vaultId",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 95,
                            "src": "1395:8:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1374:30:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Vault_$253_storage",
                            "typeString": "struct MarginAccountLib.Vault storage ref"
                          }
                        },
                        "id": 144,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "getVault",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 518,
                        "src": "1374:39:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_view$_t_struct$_Vault_$253_storage_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$bound_to$_t_struct$_Vault_$253_storage_ptr_$",
                          "typeString": "function (struct MarginAccountLib.Vault storage pointer) view returns (address[] memory,address[] memory,address[] memory,uint256[] memory,uint256[] memory,uint256[] memory)"
                        }
                      },
                      "id": 145,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1374:41:1",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",
                        "typeString": "tuple(address[] memory,address[] memory,address[] memory,uint256[] memory,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "src": "1297:118:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 147,
                  "nodeType": "ExpressionStatement",
                  "src": "1297:118:1"
                }
              ]
            },
            "documentation": null,
            "functionSelector": "d99d13f5",
            "id": 149,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getVault",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 96,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 93,
                  "mutability": "mutable",
                  "name": "_user",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "898:13:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 92,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "898:7:1",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 95,
                  "mutability": "mutable",
                  "name": "_vaultId",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "913:16:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 94,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "913:7:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "897:33:1"
            },
            "returnParameters": {
              "id": 115,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 99,
                  "mutability": "mutable",
                  "name": "shortAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "963:28:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 97,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "963:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 98,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "963:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 102,
                  "mutability": "mutable",
                  "name": "longAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "995:27:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 100,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "995:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 101,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "995:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 105,
                  "mutability": "mutable",
                  "name": "collAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "1026:27:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 103,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1026:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 104,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1026:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 108,
                  "mutability": "mutable",
                  "name": "shortAmount",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "1057:28:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 106,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1057:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 107,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1057:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 111,
                  "mutability": "mutable",
                  "name": "longAmount",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "1089:27:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 109,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1089:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 110,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1089:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 114,
                  "mutability": "mutable",
                  "name": "collAmount",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "1120:27:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 112,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1120:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 113,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1120:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "953:200:1"
            },
            "scope": 225,
            "src": "880:539:1",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 223,
              "nodeType": "Block",
              "src": "1679:558:1",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 177,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 173,
                            "name": "_shortAssets",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 152,
                            "src": "1697:12:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                              "typeString": "address[] memory"
                            }
                          },
                          "id": 174,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1697:19:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 175,
                            "name": "_shortAmounts",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 161,
                            "src": "1720:13:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                              "typeString": "uint256[] memory"
                            }
                          },
                          "id": 176,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1720:20:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "1697:43:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "6572726f72206c656e677468",
                        "id": 178,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1742:14:1",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        },
                        "value": "error length"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        }
                      ],
                      "id": 172,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1689:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 179,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1689:68:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 180,
                  "nodeType": "ExpressionStatement",
                  "src": "1689:68:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 186,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 182,
                            "name": "_longAssets",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 155,
                            "src": "1775:11:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                              "typeString": "address[] memory"
                            }
                          },
                          "id": 183,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1775:18:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 184,
                            "name": "_longAmounts",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 164,
                            "src": "1797:12:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                              "typeString": "uint256[] memory"
                            }
                          },
                          "id": 185,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1797:19:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "1775:41:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "6572726f72206c656e677468",
                        "id": 187,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1818:14:1",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        },
                        "value": "error length"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        }
                      ],
                      "id": 181,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1767:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 188,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1767:66:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 189,
                  "nodeType": "ExpressionStatement",
                  "src": "1767:66:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 195,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 191,
                            "name": "_collAssets",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 158,
                            "src": "1851:11:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                              "typeString": "address[] memory"
                            }
                          },
                          "id": 192,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1851:18:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 193,
                            "name": "_collAmounts",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 167,
                            "src": "1873:12:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                              "typeString": "uint256[] memory"
                            }
                          },
                          "id": 194,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1873:19:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "1851:41:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "6572726f72206c656e677468",
                        "id": 196,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1894:14:1",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        },
                        "value": "error length"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        }
                      ],
                      "id": 190,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1843:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 197,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1843:66:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 198,
                  "nodeType": "ExpressionStatement",
                  "src": "1843:66:1"
                },
                {
                  "assignments": [
                    202
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 202,
                      "mutability": "mutable",
                      "name": "account",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 223,
                      "src": "1920:40:1",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                        "typeString": "struct MarginAccountLib.Account"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 201,
                        "name": "MarginAccountLib.Account",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 231,
                        "src": "1920:24:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 206,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 203,
                      "name": "accounts",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 54,
                      "src": "1963:8:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
                        "typeString": "mapping(address => struct MarginAccountLib.Account storage ref)"
                      }
                    },
                    "id": 205,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 204,
                      "name": "_user",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 169,
                      "src": "1972:5:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "1963:15:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Account_$231_storage",
                      "typeString": "struct MarginAccountLib.Account storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1920:58:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 214,
                        "name": "account",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 202,
                        "src": "2058:7:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account storage pointer"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 215,
                        "name": "_shortAssets",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 152,
                        "src": "2079:12:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 216,
                        "name": "_longAssets",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 155,
                        "src": "2105:11:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 217,
                        "name": "_collAssets",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 158,
                        "src": "2130:11:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 218,
                        "name": "_shortAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 161,
                        "src": "2155:13:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 219,
                        "name": "_longAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 164,
                        "src": "2182:12:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 220,
                        "name": "_collAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 167,
                        "src": "2208:12:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account storage pointer"
                        },
                        {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 207,
                            "name": "accountVaults",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 60,
                            "src": "1989:13:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$_$",
                              "typeString": "mapping(address => mapping(uint256 => struct MarginAccountLib.Vault storage ref))"
                            }
                          },
                          "id": 211,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 208,
                            "name": "_user",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 169,
                            "src": "2003:5:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1989:20:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$",
                            "typeString": "mapping(uint256 => struct MarginAccountLib.Vault storage ref)"
                          }
                        },
                        "id": 212,
                        "indexExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 209,
                            "name": "account",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 202,
                            "src": "2010:7:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                              "typeString": "struct MarginAccountLib.Account storage pointer"
                            }
                          },
                          "id": 210,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "vaultCounter",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 230,
                          "src": "2010:20:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "1989:42:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Vault_$253_storage",
                          "typeString": "struct MarginAccountLib.Vault storage ref"
                        }
                      },
                      "id": 213,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "updateOnOpen",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 387,
                      "src": "1989:55:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_struct$_Vault_$253_storage_ptr_$_t_struct$_Account_$231_storage_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$bound_to$_t_struct$_Vault_$253_storage_ptr_$",
                        "typeString": "function (struct MarginAccountLib.Vault storage pointer,struct MarginAccountLib.Account storage pointer,address[] memory,address[] memory,address[] memory,uint256[] memory,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "id": 221,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1989:241:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 222,
                  "nodeType": "ExpressionStatement",
                  "src": "1989:241:1"
                }
              ]
            },
            "documentation": null,
            "functionSelector": "664b09de",
            "id": 224,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "openVault",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 170,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 152,
                  "mutability": "mutable",
                  "name": "_shortAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1447:29:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 150,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1447:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 151,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1447:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 155,
                  "mutability": "mutable",
                  "name": "_longAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1480:28:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 153,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1480:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 154,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1480:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 158,
                  "mutability": "mutable",
                  "name": "_collAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1512:28:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 156,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1512:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 157,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1512:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 161,
                  "mutability": "mutable",
                  "name": "_shortAmounts",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1544:30:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 159,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1544:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 160,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1544:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 164,
                  "mutability": "mutable",
                  "name": "_longAmounts",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1578:29:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 162,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1578:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 163,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1578:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 167,
                  "mutability": "mutable",
                  "name": "_collAmounts",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1611:29:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 165,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1611:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 166,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1611:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 169,
                  "mutability": "mutable",
                  "name": "_user",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1650:13:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 168,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1650:7:1",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1443:226:1"
            },
            "returnParameters": {
              "id": 171,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1679:0:1"
            },
            "scope": 225,
            "src": "1425:812:1",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 226,
        "src": "245:2723:1"
      }
    ],
    "src": "32:2936:1"
  },
  "legacyAST": {
    "absolutePath": "/Users/haythem96/Projects/testStruct/contracts/impl1/Controller.sol",
    "exportedSymbols": {
      "Controller": [
        225
      ]
    },
    "id": 226,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 38,
        "literals": [
          "solidity",
          "0.6",
          ".9"
        ],
        "nodeType": "PragmaDirective",
        "src": "32:22:1"
      },
      {
        "id": 39,
        "literals": [
          "experimental",
          "ABIEncoderV2"
        ],
        "nodeType": "PragmaDirective",
        "src": "57:33:1"
      },
      {
        "absolutePath": "/Users/haythem96/Projects/testStruct/contracts/impl1/MarginAccountLib.sol",
        "file": "./MarginAccountLib.sol",
        "id": 40,
        "nodeType": "ImportDirective",
        "scope": 226,
        "sourceUnit": 520,
        "src": "92:32:1",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/haythem96/Projects/testStruct/contracts/impl1/MarginCalculator.sol",
        "file": "./MarginCalculator.sol",
        "id": 41,
        "nodeType": "ImportDirective",
        "scope": 226,
        "sourceUnit": 525,
        "src": "125:32:1",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "contract",
        "documentation": {
          "id": 42,
          "nodeType": "StructuredDocumentation",
          "src": "159:86:1",
          "text": "@notice using the commented implementation, we will encounter stack too deep error"
        },
        "fullyImplemented": true,
        "id": 225,
        "linearizedBaseContracts": [
          225
        ],
        "name": "Controller",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "id": 45,
            "libraryName": {
              "contractScope": null,
              "id": 43,
              "name": "MarginAccountLib",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 519,
              "src": "282:16:1",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_MarginAccountLib_$519",
                "typeString": "library MarginAccountLib"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "276:52:1",
            "typeName": {
              "contractScope": null,
              "id": 44,
              "name": "MarginAccountLib.Account",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 231,
              "src": "303:24:1",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                "typeString": "struct MarginAccountLib.Account"
              }
            }
          },
          {
            "id": 48,
            "libraryName": {
              "contractScope": null,
              "id": 46,
              "name": "MarginAccountLib",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 519,
              "src": "339:16:1",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_MarginAccountLib_$519",
                "typeString": "library MarginAccountLib"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "333:50:1",
            "typeName": {
              "contractScope": null,
              "id": 47,
              "name": "MarginAccountLib.Vault",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 253,
              "src": "360:22:1",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Vault_$253_storage_ptr",
                "typeString": "struct MarginAccountLib.Vault"
              }
            }
          },
          {
            "constant": false,
            "id": 50,
            "mutability": "mutable",
            "name": "calculator",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 225,
            "src": "389:27:1",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_MarginCalculator_$524",
              "typeString": "contract MarginCalculator"
            },
            "typeName": {
              "contractScope": null,
              "id": 49,
              "name": "MarginCalculator",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 524,
              "src": "389:16:1",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_MarginCalculator_$524",
                "typeString": "contract MarginCalculator"
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "constant": false,
            "id": 54,
            "mutability": "mutable",
            "name": "accounts",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 225,
            "src": "423:62:1",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
              "typeString": "mapping(address => struct MarginAccountLib.Account)"
            },
            "typeName": {
              "id": 53,
              "keyType": {
                "id": 51,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "431:7:1",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "423:44:1",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
                "typeString": "mapping(address => struct MarginAccountLib.Account)"
              },
              "valueType": {
                "contractScope": null,
                "id": 52,
                "name": "MarginAccountLib.Account",
                "nodeType": "UserDefinedTypeName",
                "referencedDeclaration": 231,
                "src": "442:24:1",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                  "typeString": "struct MarginAccountLib.Account"
                }
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "constant": false,
            "id": 60,
            "mutability": "mutable",
            "name": "accountVaults",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 225,
            "src": "491:85:1",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$_$",
              "typeString": "mapping(address => mapping(uint256 => struct MarginAccountLib.Vault))"
            },
            "typeName": {
              "id": 59,
              "keyType": {
                "id": 55,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "499:7:1",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "491:62:1",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$_$",
                "typeString": "mapping(address => mapping(uint256 => struct MarginAccountLib.Vault))"
              },
              "valueType": {
                "id": 58,
                "keyType": {
                  "id": 56,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "518:7:1",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "nodeType": "Mapping",
                "src": "510:42:1",
                "typeDescriptions": {
                  "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$",
                  "typeString": "mapping(uint256 => struct MarginAccountLib.Vault)"
                },
                "valueType": {
                  "contractScope": null,
                  "id": 57,
                  "name": "MarginAccountLib.Vault",
                  "nodeType": "UserDefinedTypeName",
                  "referencedDeclaration": 253,
                  "src": "529:22:1",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Vault_$253_storage_ptr",
                    "typeString": "struct MarginAccountLib.Vault"
                  }
                }
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 71,
              "nodeType": "Block",
              "src": "623:59:1",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 69,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 65,
                      "name": "calculator",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 50,
                      "src": "633:10:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_MarginCalculator_$524",
                        "typeString": "contract MarginCalculator"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 67,
                          "name": "_calculator",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 62,
                          "src": "663:11:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 66,
                        "name": "MarginCalculator",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 524,
                        "src": "646:16:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_MarginCalculator_$524_$",
                          "typeString": "type(contract MarginCalculator)"
                        }
                      },
                      "id": 68,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "646:29:1",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_MarginCalculator_$524",
                        "typeString": "contract MarginCalculator"
                      }
                    },
                    "src": "633:42:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_MarginCalculator_$524",
                      "typeString": "contract MarginCalculator"
                    }
                  },
                  "id": 70,
                  "nodeType": "ExpressionStatement",
                  "src": "633:42:1"
                }
              ]
            },
            "documentation": null,
            "id": 72,
            "implemented": true,
            "kind": "constructor",
            "modifiers": [],
            "name": "",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 63,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 62,
                  "mutability": "mutable",
                  "name": "_calculator",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 72,
                  "src": "595:19:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 61,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "595:7:1",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "594:21:1"
            },
            "returnParameters": {
              "id": 64,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "623:0:1"
            },
            "scope": 225,
            "src": "583:99:1",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 90,
              "nodeType": "Block",
              "src": "761:113:1",
              "statements": [
                {
                  "assignments": [
                    82
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 82,
                      "mutability": "mutable",
                      "name": "account",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 90,
                      "src": "771:40:1",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                        "typeString": "struct MarginAccountLib.Account"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 81,
                        "name": "MarginAccountLib.Account",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 231,
                        "src": "771:24:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 86,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 83,
                      "name": "accounts",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 54,
                      "src": "814:8:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
                        "typeString": "mapping(address => struct MarginAccountLib.Account storage ref)"
                      }
                    },
                    "id": 85,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 84,
                      "name": "_user",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 74,
                      "src": "823:5:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "814:15:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Account_$231_storage",
                      "typeString": "struct MarginAccountLib.Account storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "771:58:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "id": 87,
                      "name": "account",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 82,
                      "src": "847:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                        "typeString": "struct MarginAccountLib.Account storage pointer"
                      }
                    },
                    "id": 88,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "vaultCounter",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 230,
                    "src": "847:20:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 78,
                  "id": 89,
                  "nodeType": "Return",
                  "src": "840:27:1"
                }
              ]
            },
            "documentation": null,
            "functionSelector": "31e5323b",
            "id": 91,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getVaultCounter",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 75,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 74,
                  "mutability": "mutable",
                  "name": "_user",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 91,
                  "src": "714:13:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 73,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "714:7:1",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "713:15:1"
            },
            "returnParameters": {
              "id": 78,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 77,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 91,
                  "src": "752:7:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 76,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "752:7:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "751:9:1"
            },
            "scope": 225,
            "src": "689:185:1",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 148,
              "nodeType": "Block",
              "src": "1154:265:1",
              "statements": [
                {
                  "assignments": [
                    119
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 119,
                      "mutability": "mutable",
                      "name": "account",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 148,
                      "src": "1164:40:1",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                        "typeString": "struct MarginAccountLib.Account"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 118,
                        "name": "MarginAccountLib.Account",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 231,
                        "src": "1164:24:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 123,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 120,
                      "name": "accounts",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 54,
                      "src": "1207:8:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
                        "typeString": "mapping(address => struct MarginAccountLib.Account storage ref)"
                      }
                    },
                    "id": 122,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 121,
                      "name": "_user",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 93,
                      "src": "1216:5:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "1207:15:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Account_$231_storage",
                      "typeString": "struct MarginAccountLib.Account storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1164:58:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 128,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 125,
                            "name": "account",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 119,
                            "src": "1241:7:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                              "typeString": "struct MarginAccountLib.Account storage pointer"
                            }
                          },
                          "id": 126,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "vaultCounter",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 230,
                          "src": "1241:20:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": ">=",
                        "rightExpression": {
                          "argumentTypes": null,
                          "id": 127,
                          "name": "_vaultId",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 95,
                          "src": "1265:8:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "1241:32:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "6572726f72207661756c74206964",
                        "id": 129,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1275:16:1",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_cf666fc5e38b1ce979c17d75944ed86888ce28b2b65963b5e3bb522354af4c1d",
                          "typeString": "literal_string \"error vault id\""
                        },
                        "value": "error vault id"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_cf666fc5e38b1ce979c17d75944ed86888ce28b2b65963b5e3bb522354af4c1d",
                          "typeString": "literal_string \"error vault id\""
                        }
                      ],
                      "id": 124,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1233:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 130,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1233:59:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 131,
                  "nodeType": "ExpressionStatement",
                  "src": "1233:59:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 146,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "components": [
                        {
                          "argumentTypes": null,
                          "id": 132,
                          "name": "shortAssets",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 99,
                          "src": "1298:11:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                            "typeString": "address[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 133,
                          "name": "longAssets",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 102,
                          "src": "1311:10:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                            "typeString": "address[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 134,
                          "name": "collAssets",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 105,
                          "src": "1323:10:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                            "typeString": "address[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 135,
                          "name": "shortAmount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 108,
                          "src": "1335:11:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 136,
                          "name": "longAmount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 111,
                          "src": "1348:10:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "argumentTypes": null,
                          "id": 137,
                          "name": "collAmount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 114,
                          "src": "1360:10:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        }
                      ],
                      "id": 138,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "TupleExpression",
                      "src": "1297:74:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",
                        "typeString": "tuple(address[] memory,address[] memory,address[] memory,uint256[] memory,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "expression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 139,
                              "name": "accountVaults",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 60,
                              "src": "1374:13:1",
                              "typeDescriptions": {
                                "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$_$",
                                "typeString": "mapping(address => mapping(uint256 => struct MarginAccountLib.Vault storage ref))"
                              }
                            },
                            "id": 141,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 140,
                              "name": "_user",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 93,
                              "src": "1388:5:1",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "IndexAccess",
                            "src": "1374:20:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$",
                              "typeString": "mapping(uint256 => struct MarginAccountLib.Vault storage ref)"
                            }
                          },
                          "id": 143,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 142,
                            "name": "_vaultId",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 95,
                            "src": "1395:8:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1374:30:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Vault_$253_storage",
                            "typeString": "struct MarginAccountLib.Vault storage ref"
                          }
                        },
                        "id": 144,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "getVault",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 518,
                        "src": "1374:39:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_view$_t_struct$_Vault_$253_storage_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$bound_to$_t_struct$_Vault_$253_storage_ptr_$",
                          "typeString": "function (struct MarginAccountLib.Vault storage pointer) view returns (address[] memory,address[] memory,address[] memory,uint256[] memory,uint256[] memory,uint256[] memory)"
                        }
                      },
                      "id": 145,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1374:41:1",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",
                        "typeString": "tuple(address[] memory,address[] memory,address[] memory,uint256[] memory,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "src": "1297:118:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 147,
                  "nodeType": "ExpressionStatement",
                  "src": "1297:118:1"
                }
              ]
            },
            "documentation": null,
            "functionSelector": "d99d13f5",
            "id": 149,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getVault",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 96,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 93,
                  "mutability": "mutable",
                  "name": "_user",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "898:13:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 92,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "898:7:1",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 95,
                  "mutability": "mutable",
                  "name": "_vaultId",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "913:16:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 94,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "913:7:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "897:33:1"
            },
            "returnParameters": {
              "id": 115,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 99,
                  "mutability": "mutable",
                  "name": "shortAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "963:28:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 97,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "963:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 98,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "963:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 102,
                  "mutability": "mutable",
                  "name": "longAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "995:27:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 100,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "995:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 101,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "995:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 105,
                  "mutability": "mutable",
                  "name": "collAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "1026:27:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 103,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1026:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 104,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1026:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 108,
                  "mutability": "mutable",
                  "name": "shortAmount",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "1057:28:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 106,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1057:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 107,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1057:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 111,
                  "mutability": "mutable",
                  "name": "longAmount",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "1089:27:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 109,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1089:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 110,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1089:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 114,
                  "mutability": "mutable",
                  "name": "collAmount",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 149,
                  "src": "1120:27:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 112,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1120:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 113,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1120:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "953:200:1"
            },
            "scope": 225,
            "src": "880:539:1",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 223,
              "nodeType": "Block",
              "src": "1679:558:1",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 177,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 173,
                            "name": "_shortAssets",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 152,
                            "src": "1697:12:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                              "typeString": "address[] memory"
                            }
                          },
                          "id": 174,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1697:19:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 175,
                            "name": "_shortAmounts",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 161,
                            "src": "1720:13:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                              "typeString": "uint256[] memory"
                            }
                          },
                          "id": 176,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1720:20:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "1697:43:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "6572726f72206c656e677468",
                        "id": 178,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1742:14:1",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        },
                        "value": "error length"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        }
                      ],
                      "id": 172,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1689:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 179,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1689:68:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 180,
                  "nodeType": "ExpressionStatement",
                  "src": "1689:68:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 186,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 182,
                            "name": "_longAssets",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 155,
                            "src": "1775:11:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                              "typeString": "address[] memory"
                            }
                          },
                          "id": 183,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1775:18:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 184,
                            "name": "_longAmounts",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 164,
                            "src": "1797:12:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                              "typeString": "uint256[] memory"
                            }
                          },
                          "id": 185,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1797:19:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "1775:41:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "6572726f72206c656e677468",
                        "id": 187,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1818:14:1",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        },
                        "value": "error length"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        }
                      ],
                      "id": 181,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1767:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 188,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1767:66:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 189,
                  "nodeType": "ExpressionStatement",
                  "src": "1767:66:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 195,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 191,
                            "name": "_collAssets",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 158,
                            "src": "1851:11:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                              "typeString": "address[] memory"
                            }
                          },
                          "id": 192,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1851:18:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 193,
                            "name": "_collAmounts",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 167,
                            "src": "1873:12:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                              "typeString": "uint256[] memory"
                            }
                          },
                          "id": 194,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "length",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1873:19:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "1851:41:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "6572726f72206c656e677468",
                        "id": 196,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1894:14:1",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        },
                        "value": "error length"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_010acfb7d1493bedc6d865965e964c93696fd97457f790225a3394793e6f485b",
                          "typeString": "literal_string \"error length\""
                        }
                      ],
                      "id": 190,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1843:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 197,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1843:66:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 198,
                  "nodeType": "ExpressionStatement",
                  "src": "1843:66:1"
                },
                {
                  "assignments": [
                    202
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 202,
                      "mutability": "mutable",
                      "name": "account",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 223,
                      "src": "1920:40:1",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                        "typeString": "struct MarginAccountLib.Account"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 201,
                        "name": "MarginAccountLib.Account",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 231,
                        "src": "1920:24:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 206,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 203,
                      "name": "accounts",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 54,
                      "src": "1963:8:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Account_$231_storage_$",
                        "typeString": "mapping(address => struct MarginAccountLib.Account storage ref)"
                      }
                    },
                    "id": 205,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 204,
                      "name": "_user",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 169,
                      "src": "1972:5:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "1963:15:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Account_$231_storage",
                      "typeString": "struct MarginAccountLib.Account storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1920:58:1"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 214,
                        "name": "account",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 202,
                        "src": "2058:7:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account storage pointer"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 215,
                        "name": "_shortAssets",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 152,
                        "src": "2079:12:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 216,
                        "name": "_longAssets",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 155,
                        "src": "2105:11:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 217,
                        "name": "_collAssets",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 158,
                        "src": "2130:11:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 218,
                        "name": "_shortAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 161,
                        "src": "2155:13:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 219,
                        "name": "_longAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 164,
                        "src": "2182:12:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 220,
                        "name": "_collAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 167,
                        "src": "2208:12:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                          "typeString": "struct MarginAccountLib.Account storage pointer"
                        },
                        {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                          "typeString": "address[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 207,
                            "name": "accountVaults",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 60,
                            "src": "1989:13:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$_$",
                              "typeString": "mapping(address => mapping(uint256 => struct MarginAccountLib.Vault storage ref))"
                            }
                          },
                          "id": 211,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 208,
                            "name": "_user",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 169,
                            "src": "2003:5:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1989:20:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Vault_$253_storage_$",
                            "typeString": "mapping(uint256 => struct MarginAccountLib.Vault storage ref)"
                          }
                        },
                        "id": 212,
                        "indexExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 209,
                            "name": "account",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 202,
                            "src": "2010:7:1",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Account_$231_storage_ptr",
                              "typeString": "struct MarginAccountLib.Account storage pointer"
                            }
                          },
                          "id": 210,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "vaultCounter",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 230,
                          "src": "2010:20:1",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "1989:42:1",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Vault_$253_storage",
                          "typeString": "struct MarginAccountLib.Vault storage ref"
                        }
                      },
                      "id": 213,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "updateOnOpen",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 387,
                      "src": "1989:55:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_struct$_Vault_$253_storage_ptr_$_t_struct$_Account_$231_storage_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$bound_to$_t_struct$_Vault_$253_storage_ptr_$",
                        "typeString": "function (struct MarginAccountLib.Vault storage pointer,struct MarginAccountLib.Account storage pointer,address[] memory,address[] memory,address[] memory,uint256[] memory,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "id": 221,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1989:241:1",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 222,
                  "nodeType": "ExpressionStatement",
                  "src": "1989:241:1"
                }
              ]
            },
            "documentation": null,
            "functionSelector": "664b09de",
            "id": 224,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "openVault",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 170,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 152,
                  "mutability": "mutable",
                  "name": "_shortAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1447:29:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 150,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1447:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 151,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1447:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 155,
                  "mutability": "mutable",
                  "name": "_longAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1480:28:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 153,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1480:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 154,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1480:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 158,
                  "mutability": "mutable",
                  "name": "_collAssets",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1512:28:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_address_$dyn_memory_ptr",
                    "typeString": "address[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 156,
                      "name": "address",
                      "nodeType": "ElementaryTypeName",
                      "src": "1512:7:1",
                      "stateMutability": "nonpayable",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "id": 157,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1512:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_address_$dyn_storage_ptr",
                      "typeString": "address[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 161,
                  "mutability": "mutable",
                  "name": "_shortAmounts",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1544:30:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 159,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1544:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 160,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1544:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 164,
                  "mutability": "mutable",
                  "name": "_longAmounts",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1578:29:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 162,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1578:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 163,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1578:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 167,
                  "mutability": "mutable",
                  "name": "_collAmounts",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1611:29:1",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 165,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "1611:7:1",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 166,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1611:9:1",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 169,
                  "mutability": "mutable",
                  "name": "_user",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 224,
                  "src": "1650:13:1",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 168,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1650:7:1",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1443:226:1"
            },
            "returnParameters": {
              "id": 171,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1679:0:1"
            },
            "scope": 225,
            "src": "1425:812:1",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 226,
        "src": "245:2723:1"
      }
    ],
    "src": "32:2936:1"
  },
  "compiler": {
    "name": "solc",
    "version": "0.6.9+commit.3e3065ac.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.0.23",
  "updatedAt": "2020-07-04T17:13:17.675Z",
  "devdoc": {
    "methods": {}
  },
  "userdoc": {
    "methods": {},
    "notice": "using the commented implementation, we will encounter stack too deep error"
  }
}